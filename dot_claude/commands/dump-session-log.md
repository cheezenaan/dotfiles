# Dump session log

セッションの作業内容とやりとりを構造化されたログとしてダンプする。

## 使用方法

```
/dump-session-log [task_description]
```

- `task_description`: (optional) 作業内容の簡潔な説明（ファイル名に使用）
  - ユーザーから `task_description` の入力がない場合､ `tmp/_logs` ディレクトリ内のログファイルから推測する

## 実行処理

1. `.tmp/_logs` が存在しない場合､ `mkdir -p` でディレクトリを作成
2. `~/.claude/templates/02.LOG.md` テンプレートを読み込み
3. テンプレート内の HTML コメント（`<!-- -->`）を削除
4. セッション内でのやりとりと作業ログ､ファイル変更内容を整理
5. `YYYYmmdd_hhmm_<task_description>.md` 形式で `.tmp/_logs` にファイル出力

## 出力先

- ディレクトリ: `./tmp/_logs/`
- ファイル名形式: `YYYYmmdd_hhmm_<task_description>.md`
- 例: `20250628_0945_conventional_commits_implementation.md`

## テンプレート構造

テンプレートファイル `~/.claude/templates/02.LOG.md` を使用して､一貫性のあるログ形式を生成する。

## 使用例

```bash
/dump-session-log conventional_commits_helper
# → ./tmp/_logs/20250628_0945_conventional_commits_helper.md が生成される
```

## 感情記録の価値

### なぜ赤裸々な記録が重要か

- **ストレス発散効果**: 正直な感情を文字にすることで心理的負担を軽減
- **パターン認識**: 同じような状況でどんな感情になりがちかを把握
- **成長の軌跡**: 過去の自分と比較して成長を実感
- **技術的判断への影響**: 感情が技術的な意思決定にどう影響するかを可視化
- **技術的知見の蓄積**: 実作業から得た発見やベストプラクティスを構造化して記録

### プライベート記録としての安全性

- ログファイルは `.tmp/_logs/` ディレクトリに保存され **git 管理外**
- 個人的な感情や愚痴を遠慮なく記録しても安全
- 将来の自分だけが読む前提で、本音を書くことを推奨

### 感情記録のサンプル

以下は赤裸々な記録の例である：

**感想（技術的学び）の記録例:**

```
【技術的発見】
- Claude Code Action は Anthropic API 使用時でも id-token: write 権限が必要
- author_association でロールベースの制御ができることを知った

【ベストプラクティス】  
- 複雑な GitHub Actions 条件は複数行に分割すると可読性が良い
- ハードコードよりもロールベースの制御の方が保守性が高い

【今後に活かせる知見】
- 権限エラーが出たら実際のログを確認してから設定を変更する
- セキュリティレビューのコメントは具体的な改善案につながりやすい
```

**気分の記録例:**

```
最初は新しい API の仕様が理解できなくてモヤモヤした。
ドキュメント読んでも要領を得ないし、サンプルコードも微妙。
でも実際に手を動かしてみたら意外とシンプルで、最終的には「なんだ、こんなもんか」って感じ。
達成感よりも「もっと早く気づけばよかった」という後悔の方が強い。
```

**愚痴の記録例:**

```
TypeScript のエラーメッセージが相変わらず分かりにくい。
「Type 'unknown' is not assignable to type 'string'」って言われても、
どこで unknown になってるのか全然分からん。
型推論がうまくいかない時の絶望感は何度経験しても慣れない。
結局 any で逃げてしまった自分が情けない。
```
